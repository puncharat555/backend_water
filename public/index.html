<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>Water Level Monitoring</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1 class="title">Water Level Monitoring</h1>

  <div class="water-level-display">
    <div class="water-depth">
      <p id="waterLevelNode1" class="main-water-level">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥: -</p>
    </div>
  </div>

  <div class="container">
    <!-- Node 1 -->
    <div class="node-box">
      <h2>Node 1</h2>
      <p id="rssiNode1">RSSI: -</p>
      <p id="voltageNode1">‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô: -</p>
      <p id="currentNode1">‡∏Å‡∏£‡∏∞‡πÅ‡∏™: -</p>
      <p id="timeNode1">‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡∏±‡∏î: -</p>
    </div>

    <!-- Node 2 -->
    <div class="node-box">
      <h2>Node 2</h2>
      <p id="rssiNode2">RSSI: -</p>
      <p id="voltageNode2">‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô: -</p>
      <p id="currentNode2">‡∏Å‡∏£‡∏∞‡πÅ‡∏™: -</p>
      <p id="timeNode2">‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡∏±‡∏î: -</p>
    </div>
  </div>

  <div class="charts-container">
    <div class="chart-box">
      <h3>‡∏Å‡∏£‡∏≤‡∏ü‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á 30 ‡∏ß‡∏±‡∏ô</h3>
      <canvas id="waterLevelChart30d" height="300"></canvas>
    </div>
    <div class="chart-box">
      <h3>‡∏Å‡∏£‡∏≤‡∏ü‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</h3>
      <canvas id="waterLevelChart1h" height="300"></canvas>
    </div>
    <div class="chart-box">
      <h3>‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà Node 1 ‡πÅ‡∏•‡∏∞ Node 2</h3>
      <canvas id="batteryChart" height="300"></canvas>
    </div>
  </div>
  <div class="chart-box map-box">
    <h3>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå (‡∏û‡∏¥‡∏Å‡∏±‡∏î 19.030471, 99.884592)</h3>
    <iframe
      src="https://www.openstreetmap.org/export/embed.html?bbox=99.88309288024901%2C19.02912179695632%2C99.88599729537963%2C19.03181455375484&layer=mapnik&marker=19.030471%2C99.884592"
      frameborder="0"
      scrolling="no"
      marginheight="0"
      marginwidth="0"
      width="100%"
      height="300"
      style="border:1px solid rgba(255,255,255,0.3); border-radius: 10px;"
    ></iframe>
    <br/>
    <small style="text-align:center; display:block;">
      <a href="https://www.openstreetmap.org/?mlat=19.030471&mlon=99.884592#map=18/19.030471/99.884592" target="_blank" rel="noopener noreferrer" style="color:#00c0ff; text-decoration:none;">
        ‡∏î‡∏π‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà
      </a>
    </small>
  </div>

  <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô error ‡∏£‡∏ß‡∏°‡∏Å‡∏±‡∏ô -->
  <div class="table-wrapper">
    <h3>
      üìã ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
      <span class="error-toggle" onclick="toggleErrorBox()" title="‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥">‚ùó</span>
    </h3>
    
    <div id="errorBox" class="error-box hidden">
      <h4>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥</h4>
      <ul id="errorList">
        <!-- ‡πÄ‡∏ï‡∏¥‡∏°‡∏à‡∏≤‡∏Å JS -->
      </ul>
    </div>

    <table id="dataTable">
      <thead>
        <tr>
          <th>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏î‡∏¥‡∏ö (cm)</th>
          <th>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥ (cm)</th>
          <th>RSSI Node1</th>
          <th>RSSI Node2</th>
          <th>V Node1</th>
          <th>I Node1</th>
          <th>V Node2</th>
          <th>I Node2</th>
          <th>‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡∏±‡∏î Node1</th>
          <th>‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡∏±‡∏î Node2</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="script.js"></script>
</body>
</html>
